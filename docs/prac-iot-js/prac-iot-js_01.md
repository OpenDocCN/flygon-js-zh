# 第一章：物联网的世界

欢迎来到使用 JavaScript 的高级物联网。在本书中，我们将探讨使用 JavaScript 作为编程语言构建物联网解决方案。在我们开始技术深入之前，我想谈谈物联网的世界，它提供的解决方案，以及我们作为开发人员所承担的责任。在本章中，我们将讨论以下主题：

+   物联网的世界

+   物联网的历史

+   物联网使用案例

+   技术概述

+   产品工程

# 物联网的世界

想象一种情景，你的牛奶用完了；你注意到了并把它放在了购物清单上。但由于不可预见的原因，你忘了买牛奶；嗯，第二天你就没有牛奶了。

现在想象另一种情景：你有一个智能冰箱，它注意到你的牛奶快用完了，把牛奶放在你的购物清单上，然后更新你的 GPS 路线，让你经过超市回家，但你还是忘了。

现在你必须面对你的冰箱的愤怒。

现在事情变得真实起来，想象另一种情况，你的冰箱跳过了中间商，直接在亚马逊上下订单，亚马逊在你第二天早餐需要的时候送货。

第三种情景是我们追求的。让一台机器与另一台机器交流并做出相应决策；在购买之前自动验证牛奶的类型、数量和过期日期等事项。

我们人类现在正在利用连接设备和智能设备的世界来让我们的生活变得更好。

# 什么是物联网？

如果你至少呼吸了十年，你一定听过智能生活、智能空间和智能设备等术语。所有这些都指的是一个称为**物联网**（**IoT**）的父概念。

简而言之，当我们的电子、电气或电机械设备连接到互联网并相互交流时，就是物联网。

智能设备主要围绕两件事展开：

+   传感器

+   执行器

物联网领域的任何解决方案都是要么感知某物，要么执行某事。

有了这项技术，我们为谢尔顿·库珀（来自 CBS 电视系列剧《生活大爆炸》）找到了解决方案，他想知道有人坐在他的位置上时立刻得知：

![](img/00005.jpeg)来源：http://bigbangtheory.wikia.com/wiki/Sheldon%27s_Spot

我们所做的就是在沙发下放一个重量传感器，如果重量增加，传感器将触发指向沙发的摄像头拍照并发送一张照片的推送通知给他。怎么样？

我知道我举的例子有点过分，但你明白我的意思，对吧？

# 一点历史

物联网以各种形式存在已有 35 年以上。我找到的最早的例子是 1982 年在卡内基梅隆大学的一台可乐机。由四名研究生迈克·卡扎尔、大卫·尼科尔斯、约翰·扎尔纳伊和艾沃尔·德勒姆开发，他们将可乐机连接到互联网，这样他们就可以从自己的办公桌上检查机器里是否装满了冷可乐。来源（[`www.cs.cmu.edu/~coke/`](https://www.cs.cmu.edu/~coke/)）。

蒂莫西·约翰·伯纳斯-李爵士于 1991 年发明了第一个网页。

另一个例子是约翰·罗姆基的互联网烤面包机。他使用 TCP/IP 协议将他的烤面包机连接到互联网。他创建了一个控制来打开烤面包机，一个控制来关闭它。当然，有人必须把面包放进烤面包机：

![](img/00006.jpeg)来源：http://ieeexplore.ieee.org/document/7786805/

另一个有趣的物联网例子是特洛伊房间咖啡壶。这是由昆汀·斯塔福德-弗雷泽和保罗·贾德茨基于 1993 年创建的。一台摄像机位于剑桥大学计算机实验室的特洛伊房间，监视着咖啡壶的水平，每分钟更新一次图像并发送到建筑的服务器：

![](img/00007.jpeg)来源：https://en.wikipedia.org/wiki/Trojan_Room_coffee_pot

正如之前提到的，我们可以看到，甚至在我们能够想象到可能性之前，人们已经在互联网相关的解决方案上进行了工作。

在过去的两年里，有一件事情让我一直看到并开始坚信：

“懒惰是发明之母。”

不是必要性，也不是无聊，而是懒惰。在当今时代，没有人想做像购物、走到开关旁边打开灯或空调这样的日常事务。因此，我们正在寻找解决这些问题的新颖创新的方法。

# 物联网用例

现在您对物联网有了一定的了解，您可以想象使用这种技术可以构建的无限可能性。

根据我的观察，物联网用例可以粗略地分为三个部分：

+   解决问题

+   便利

+   炫耀

问题解决部分涉及物联网用于解决现实世界问题，例如，一个农民的农场距离家有半公里，他们必须一直走到农场才能打开水泵/发动机。另一个场景是术后患者出院后可以定期将其生命体征发送到医院，以监测患者是否有任何异常。这正是物联网非常适合的地方。

便利是指您可以在到达家之前 30 分钟打开空调，这样您进入时就可以放松，或者在工作时解锁您的门，如果您认识的人敲门而您不在附近。

炫耀是指您去另一个国家只是为了打开或关闭门廊灯，只是为了展示物联网的工作。

所有这些都是对这种技术的消费形式。

在本书中，我们将探讨一些属于先前用例的解决方案。

# 技术概述

现在我们知道了什么是物联网，我们可以开始定义技术堆栈。在本书中，我们将使用 JavaScript 构建一个通用框架，用于开发物联网应用程序。

我们将遵循云计算的方法，其中有一堆连接到云的设备，与雾计算方法相比，后者有一个网关，几乎可以做云可以做的所有事情，但是在本地可用于现场。

我们的智能设备将由树莓派 3 供电，它具有通过 Wi-Fi 与云进行通信的能力，并且可以使用其 GPIO 引脚与传感器和执行器进行通信。使用这个简单的硬件，我们将在本书中连接传感器和执行器，并构建一些真实世界的解决方案。

另一个替代品是树莓派 Zero W，这是树莓派 3 的微型版本，如果您想构建一个紧凑的解决方案。

我们将在第二章 *IoTFW.js - I*和第三章 *IoTFW.js - II*中逐步介绍每一种技术，并从那里开始使用这些技术在各个领域构建物联网解决方案。

# 产品工程

与软件开发不同，硬件开发确实很难。所花费的时间、复杂性和执行都很昂贵。想象一下 JavaScript 控制台中的语法错误；我们只需要转到特定的行号，进行更改，然后刷新浏览器。

现在将这与硬件产品开发进行比较。从确定一件硬件产品到将其作为收缩包装产品放在超市货架上，至少需要 8 个月的时间，至少需要制作四个产品迭代，以验证并在现实世界中测试它。

举个例子，产品上的组件定位会使产品成功或失败。想象一下如果充电器插头上没有凸起或握把；您在从插座中拔出充电器时手会一直滑动。这就是价值工程。

组建一个**概念验证**（**POC**）非常简单，正如您将在本书的其余部分中看到的那样。将这个 POC 转变成一个成品产品是完全不同的事情。这种区别就像在你的浴室里唱歌和在有数百万观众的舞台上唱歌一样。

请记住，我们在本书中构建的示例都是 POC，并且没有一个远远接近用于产品生产。您可以始终使用我们在本书中将要研究的解决方案来更好地理解实施，然后围绕它们设计自己的解决方案。

# 总结

在本章中，我们看了一下什么是物联网以及一些相关历史。接下来，我们看了一些用例，一个高层次的技术概述，以及一些关于产品工程的内容。

在第二章中，*IoTFW.js - I*，我们将开始构建物联网框架，我们将在其上构建我们的解决方案。
