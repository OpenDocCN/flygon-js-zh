# 前言

这是一本关于 TypeScript 的书；但是，你从标题中已经知道了。但它不仅仅是一本关于 TypeScript 的书。这是一本关于如何使用 TypeScript 超越基本示例的书。这意味着这是一本关于比你可能已经在 TypeScript 世界初探时所涉及的那些稍微困难一点的主题的书。

因此，我们可以重新表述开头的句子为“这是一本关于 TypeScript 以及一些有趣和酷的方式，你可以用 TypeScript 与比我以前使用过的更高级的技术一起使用的书”。

首先，我要说的是，这本书不是关于如何在 Angular、React、Vue 或 ASP.NET Core 中编程的书。这些都是值得拥有自己独立书籍的大主题（事实上，在每一章的结尾，我会尽力指引你去其他资源，帮助你更深入地学习这些技术，而不仅仅是本书中简短的章节）。相反，对于 Angular 和 React，我试图将每章引入的新功能限制在不超过五个新概念。在使用诸如 Bootstrap 这样的技术时，我们将使用最合适的库，比如在 React 中使用`reactstrap`。我们这样做是因为这些库已经被设计用于与相关的用户界面（UI）框架一起使用。

当我们为这本书进行初步研究时，一个经常出现的问题是，“现在什么最热门？人们正在使用什么新的、令人兴奋的技术？”这本书旨在介绍其中一些技术，包括 GraphQL、微服务和机器学习。同样，这本书无法教授有关相关技术的一切。它所做的是提供对技术的介绍，并展示我们如何利用 TypeScript 的强大功能来使我们在开发时更加轻松。

当我们阅读本书时，我们会发现我倾向于非常重视面向对象编程（OOP）。我们将会构建很多类。这样做有很多原因，但这种关注的最大原因是，在早期章节中，我们将编写可以在后续章节中使用的代码。我也希望编写的代码可以直接放入你自己的代码库中。使用 TypeScript，基于类的开发使得这一切变得更加简单。这也给了我们讨论可以应用的技术的机会，使得代码更简单，即使在使用更高级的技术时，我们也会涵盖一些原则，比如类具有单一职责（称为单一职责模式），以及基于模式的开发，我们将已知的软件工程模式应用于复杂问题，使解决方案变得简单。

除了 TypeScript，我们还将在大多数章节中使用 Bootstrap 进行用户界面设计。在关于 Angular 的几章中，我们会考虑使用 Angular Material 来布局界面，因为 Material 和 Angular 是相辅相成的，如果你最终开发商业 Angular 应用程序，那么你很可能会使用 Material。

第一章向我们介绍了一些我们可能以前没有使用过的功能，比如 rest 和 spread，所以我们将在那里更深入地介绍它们。在后面的章节中，我们将以一种自然的方式使用这些功能，而不是打断代码的流程来特别指出某个项目，我们将倾向于只是以一种变得自然的方式使用这些功能。另一方面，随着我们在书中的进展，我们会发现前几章的功能通常会再次被提及，这样我们就不会只是做一次某件事然后就忘记它。

# 这本书是为谁写的

本书适用于至少对 TypeScript 基础知识感到舒适的人。如果您知道如何使用 TypeScript 编译器 tsc 来构建配置文件和编译代码，以及 TypeScript 中的类型安全性、函数和类等基础知识，那么您应该能够从本书中获得一些收获。

如果您对 TypeScript 有更高级的理解，那么您可能会对以前未使用过的技术有兴趣。

# 本书涵盖的内容

第一章，“高级 TypeScript 功能”，向我们介绍了我们以前可能没有遇到过的 TypeScript 功能，例如使用联合和交集类型，创建自己的类型声明，以及使用装饰器来启用面向方面的编程，等等。通过本章，我们将熟悉各种 TypeScript 技术，这些技术将成为我们作为专业程序员每天使用的基础。

第二章，“使用 TypeScript 创建 Markdown 编辑器”，是我们编写第一个实际项目的地方 - 一个简单的 Markdown 编辑器。我们将创建一个简单的解析器，将其连接到网页中的文本块，并使用它来识别用户何时键入 Markdown 标记，并在预览区域中反映这一点。在编写此代码时，我们将看到如何使用 TypeScript 设计模式来构建更健壮的解决方案。

第三章，“使用 React Bootstrap 创建个人联系人管理器”，让我们使用流行的 React 库构建个人联系人管理器。在编写应用程序时，我们将看到 React 如何使用特殊的 TSX 文件将 TypeScript 和 HTML 混合在一起以生成用户组件。我们还将看到如何在 React 中使用绑定和状态来在用户更改值时自动更新数据模型。这里的最终目标是创建一个允许我们使用浏览器自己的 IndexedDB 数据库输入，保存和检索信息的 UI，并查看如何将验证应用于组件以确保输入有效。

第四章，“MEAN 堆栈 - 构建照片库”，是我们第一次遇到 MEAN 堆栈。MEAN 堆栈描述了一组协作技术，用于构建在客户端和服务器上运行的应用程序。我们使用此堆栈编写一个使用 Angular 作为 UI 的照片库应用程序，其中使用 MongoDB 存储用户上传的图像。在创建应用程序时，我们将利用 Angular 的强大功能来创建服务和组件。同时，我们将看到如何使用 Angular Material 创建具有吸引力的 UI。

第五章，“使用 GraphQL 和 Apollo 创建 Angular ToDo 应用”，向我们介绍了一个观念，即我们不仅需要使用 REST 来在客户端和服务器之间进行通信。目前热门话题之一是使用 GraphQL 创建应用程序，该应用程序可以使用 GraphQL 服务器和客户端从多个点消耗和更新数据。我们在本章中编写的 Angular 应用程序将为用户管理待办事项列表，并进一步演示 Angular 功能，例如使用模板在只读和可编辑功能之间切换，以及查看 Angular 提供的用于验证用户输入的功能。

第六章，*使用 Socket.IO 构建聊天室应用程序*，进一步探讨了我们不需要依赖 REST 通信的想法。我们将看看如何在 Angular 中建立长时间运行的客户端/服务器应用程序，在这种应用程序中，客户端和服务器之间的连接似乎被保持永久打开，以便消息可以来回传递。利用 Socket.IO 的强大功能，我们将编写一个聊天室应用程序。为了进一步增强我们的代码，我们将使用外部身份验证提供程序来帮助我们专业地保护我们的应用程序，以避免存储密码的明文等尴尬的身份验证失败。

第七章，*使用 Firebase 进行基于云的 Angular 地图*，我们不得不忽视基于云的服务的增长已经变得不可能。在这个我们最后的 Angular 应用程序中，我们将使用两个独立的基于云的服务。我们将使用的第一个是 Bing 地图，它将向我们展示如何注册第三方基于云的地图服务，并将其集成到我们的应用程序中。我们将讨论此服务的规模对成本的影响。我们将显示一个地图，用户可以保存兴趣点，数据将存储在使用 Google 的 Firebase 云平台的独立基于云的数据库中。

第八章，*使用 React 和微服务构建 CRM*，在我们对 React 和 MEAN 堆栈的经验基础上，介绍了使用等效的基于 React 的堆栈。当我们第一次遇到 MEAN 时，我们使用 REST 与单个应用程序端点进行通信。在这个应用程序中，我们将与多个微服务进行通信，以创建一个简化的基于 React 的 CRM 系统。我们将讨论什么是微服务，以及何时我们想要使用它们，以及如何使用 Swagger 设计和记录 REST API。本章的主要收获是，我们介绍 Docker，以展示如何在其自己的容器中运行我们的服务；容器目前是开发人员在开发应用程序时最喜欢的话题之一，因为它们简化了应用程序的部署，并且使用起来并不那么困难。

第九章，*使用 Vue.js 和 TensorFlow.js 进行图像识别*，向我们介绍了如何使用我们的网络浏览器来托管使用 TensorFlow.js 的机器学习。我们将使用流行的 Vue.js 框架编写一个应用程序，使用预训练的图像模型来识别图像。我们将扩展此功能，以了解如何创建姿势检测应用程序，以识别您所处的姿势，并可以扩展到使用网络摄像头跟踪您的姿势，用于体育教练的目的。

第十章，*构建 ASP.NET Core 音乐库*，对我们来说是一个重大的转变。到目前为止，我们已经写了许多应用程序，其中 TypeScript 代表了我们用来构建 UI 的主要编程语言。使用 ASP.NET Core，我们将编写一个音乐库应用程序，我们可以输入艺术家的名称，并使用免费的 Discogs 音乐 API 搜索其音乐的详细信息。我们将使用 C#和 TypeScript 的组合来运行对 Discog 的查询，并构建我们的 UI。

# 要充分利用本书

+   您应该具备基本的 TypeScript 知识，以便使用本书中的内容。了解 HTML 和网页将会很有用。

+   在下载代码时，如果使用`npm`等软件包管理器，您需要知道如何恢复软件包，因为我们没有将它们包含在存储库中。要恢复它们，您可以在与`package.json`相同的目录中使用`npm install`，这将恢复软件包。

+   在最后一章中，您不必显式下载缺少的软件包。在构建项目时，Visual Studio 将恢复这些软件包。

# 下载示例代码文件

您可以从[www.packt.com](http://www.packt.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[www.packt.com/support](http://www.packt.com/support)并注册，以便文件直接发送到您的邮箱。

您可以按照以下步骤下载代码文件：

1.  在[www.packt.com](http://www.packt.com)登录或注册。

1.  选择“支持”选项卡。

1.  单击“代码下载和勘误”。

1.  在搜索框中输入书名，然后按照屏幕上的说明操作。

下载文件后，请确保使用最新版本的解压缩或提取文件夹：

+   WinRAR/7-Zip for Windows

+   Zipeg/iZip/UnRarX for Mac

+   7-Zip/PeaZip for Linux

该书的代码包也托管在 GitHub 上，网址为**[`github.com/PacktPublishing/Advanced-TypeScript-3-Programming-Projects`](https://github.com/PacktPublishing/Advanced-TypeScript-3-Programming-Projects)**。如果代码有更新，将在现有的 GitHub 存储库上进行更新。

我们还有来自我们丰富书籍和视频目录的其他代码包，可以在**[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)**上找到。去看看吧！

# 下载彩色图像

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以在这里下载：[`static.packt-cdn.com/downloads/9781789133042_ColorImages.pdf`](https://static.packt-cdn.com/downloads/9781789133042_ColorImages.pdf)。

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。这是一个例子："以下的`tsconfig.json`文件被使用"。

代码块设置如下：

```ts
{
  "compilerOptions": {
    "target": "ES2015", 
    "module": "commonjs", 
    "sourceMap": true, 
    "outDir": "./script", 
  }
}
```

当我们希望引起您对代码块的特定部分的注意时，相关行或项目将以粗体显示：

```ts
{
  "compilerOptions": {
    "target": "ES2015", 
    "module": "commonjs", 
    "sourceMap": true, 
    "outDir": "./script", 
  }
}
```

任何命令行输入或输出都将按照以下方式编写：

```ts
npx create-react-app chapter03 --scripts-version=react-scripts-ts
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以这种方式出现在文本中。这是一个例子："通常，Angular 用于创建**单页应用程序**（**SPA**），在这种情况下，客户端的小部分会被更新，而不是在导航事件发生时重新加载整个页面。"

警告或重要说明会显示为这样。提示和技巧会显示为这样。
